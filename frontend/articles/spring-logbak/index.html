<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name='description' content='朱海保的个人网站'>
    <meta name='keywords' content='java, spring, javascript, html, css, mariadb, jpa'>
    <title>SpringBoot3 整合 Logback 日志框架1</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/js/lib/prism/prism.css">
    <script src="/js/lib/prism/prism.js"></script>
    <script src="/js/base.js"></script>
    <script src="/js/lib/flexsearch/flexsearch.bundle.min.js"></script>
    <link rel="stylesheet" href="/css/base.css"/>
    <link rel="stylesheet" href="/css/article.css"/>
    <link rel="stylesheet" href="/css/devices.css"/>

</head>

<body>
<div class="topDiv">
    <div class="topBar">
        <div class="logoDiv">
            <a href="/index.html">
                <img src="/img/logo.svg">
            </a>
        </div>
        <div class="searchDiv">
            <input type="text" name="searchKey" id="searchInput" placeholder="搜索文章...">
            <img class="searchImg" src="/img/searchicon.svg" id="searchButton">
        </div>
        <div class="userInfoDiv">
            <span></span>
        </div>
    </div>
    <div class="navBar">
        <div class="arrow" id="leftArrow"></div>
        <i id="treeBar" class="fa fa-bars treeBar" onclick="treeBarFun();"></i>
        <nav>
            <ul id="topNav">
                <!--第一个文章标签,固定显示-->
                <li id="articleLabel"><a href="/articles/index.html">点滴文章</a></li>
                <li><a href='/subject/springboot/index.html'>SpringBoot</a></li>
<li><a href='/subject/java/index.html'>Java</a></li>
<li><a href='/subject/html/index.html'>html</a></li>
<li><a href='/subject/search-engine/index.html'>搜索引擎</a></li>
<li><a href='/subject/css/index.html'>CSS</a></li>
<li><a href='/subject/kafka/index.html'>kafka 연습</a></li>
<li><a href='/subject/rabbitmq/index.html'>rabbitmq</a></li>

            </ul>
        </nav>
        <div class="arrow" id="rightArrow"></div>
    </div>
</div>
<div class="mainDiv">
    <div class="titleTreeDiv700 titleTreeDiv" id="titleTreeDiv">
        <p style="margin-left: 10px; font-size:16px">文章列表</p>
        <nav class="titleTree" id="titleTree"><span class='publishTime'>2024-11-06 12:25:13</span><br>
<a href='/articles/spring-logbak/index.html'>SpringBoot3 整合 Logback 日志框架1</a>
<span class='publishTime'>2024-11-06 12:22:32</span><br>
<a href='/articles/spring-logbak2/index.html'>SpringBoot3 整合 Logback 日志框架2</a>
<span class='publishTime'>2024-10-26 15:31:58</span><br>
<a href='/articles/gwqt/index.html'>单位来了一位美国访问学者</a>
<span class='publishTime'>2024-10-26 15:29:12</span><br>
<a href='/articles/qiwen1/index.html'>厦门文化执法支队正科级干部钟劭臻婚内出轨11年</a>
</nav>
    </div>
    <div class="contentDiv">
        <section>
            <header><span class='articleTitle' id='articleTitle'>SpringBoot3 整合 Logback 日志框架1</span></header>
            <section title="author" class="author">
                <img id="authorLogo" src="/img/subject-logo4.svg">
                <a class="authorName zcool-xiaowei-regular" href="https://twitter.com/jumperoverfgw">朱海保</a>
                <a href="https://github.com/zhuhaibao"><img class="siteImg" src="/img/github.svg"></a>
                <a href="https://twitter.com/jumperoverfgw"><img class="siteImg" src="/img/X.svg"></a>
                <span class='zcool-xiaowei-regular'>自由职业 专业开发 10年it魔域经验</span>
            </section>
            <article id='articleContent'><p><img src="http://localhost:8081/img/upload/744cd82c4a6c7e48b92416648bbea941.jpg">safdadsfaadsfas</p><pre class="language-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
 
&lt;configuration scan="true" scanPeriod="60 seconds" debug="false"&gt;
 
    &lt;!-- 定义日志输出到控制台的格式 --&gt;
    &lt;property name="log.console.pattern" value="%magenta(%d{yyyy-MM-dd HH:mm:ss:SSS}) [%thread] %highlight([%-5level]) %cyan(%logger{90}) - %msg%n" /&gt;
    &lt;!-- 定义日志输出到文件中的格式 --&gt;
    &lt;property name="log.file.pattern" value="%d{yyyy-MM-dd HH:mm:ss:SSS} [%thread] [%-5level] %logger{90} - %msg%n" /&gt;
    &lt;!-- 日志文件存储目录（从 application 配置文件取得） --&gt;
    &lt;springProperty scope="context" name="file.path" source="logback.path" defaultValue="${user.home}/ShopSystem/log" /&gt;
    &lt;!-- 输出 info 级别及以上的日志文件名-前缀（从 application 配置文件取得） --&gt;
    &lt;springProperty scope="context" name="file.name.info.prefix" source="logback.file-name.info.prefix" defaultValue="system" /&gt;
    &lt;!-- 输出 info 级别及以上的日志文件名-后缀（从 application 配置文件取得） --&gt;
    &lt;springProperty scope="context" name="file.name.info.suffix" source="logback.file-name.info.suffix" defaultValue="log" /&gt;
    &lt;!-- 输出 error 级别的日志文件名-前缀（从 application 配置文件取得） --&gt;
    &lt;springProperty scope="context" name="file.name.error.prefix" source="logback.file-name.error.prefix" defaultValue="system.error" /&gt;
    &lt;!-- 输出 error 级别的日志文件名-后缀（从 application 配置文件取得） --&gt;
    &lt;springProperty scope="context" name="file.name.error.suffix" source="logback.file-name.error.suffix" defaultValue="log" /&gt;
 
    &lt;!-- 输出日志到控制台 --&gt;
    &lt;appender name="CONSOLE_APPENDER" class="ch.qos.logback.core.ConsoleAppender"&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;${log.console.pattern}&lt;/pattern&gt;
            &lt;charset&gt;UTF-8&lt;/charset&gt;
        &lt;/encoder&gt;
        &lt;!-- 输出 DEBUG 级别及以上的日志 --&gt;
        &lt;filter class="ch.qos.logback.classic.filter.ThresholdFilter"&gt;
            &lt;level&gt;DEBUG&lt;/level&gt;
        &lt;/filter&gt;
    &lt;/appender&gt;
 
    &lt;!-- 滚动输出 INFO 级别及以上的日志到文件 --&gt;
    &lt;appender name="ROLLING_FILE_APPENDER" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;
        &lt;file&gt;${file.path}/${file.name.info.prefix}.${file.name.info.suffix}&lt;/file&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;${log.file.pattern}&lt;/pattern&gt;
            &lt;charset&gt;UTF-8&lt;/charset&gt;
        &lt;/encoder&gt;
        &lt;!-- 设置滚动策略，基于大小和时间的滚动策略 --&gt;
        &lt;rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy"&gt;
            &lt;fileNamePattern&gt;${file.path}/${file.name.info.prefix}.%d{yyyy-MM-dd}.%i.${file.name.info.suffix}&lt;/fileNamePattern&gt;
            &lt;maxFileSize&gt;2MB&lt;/maxFileSize&gt;
            &lt;maxHistory&gt;3&lt;/maxHistory&gt;
            &lt;totalSizeCap&gt;10MB&lt;/totalSizeCap&gt;
        &lt;/rollingPolicy&gt;
        &lt;!-- 输出 INFO 级别及以上的日志 --&gt;
        &lt;filter class="ch.qos.logback.classic.filter.ThresholdFilter"&gt;
            &lt;level&gt;INFO&lt;/level&gt;
        &lt;/filter&gt;
    &lt;/appender&gt;
 
    &lt;!-- 滚动输出 ERROR 级别的日志到文件 --&gt;
    &lt;appender name="ROLLING_FILE_ERROR_APPENDER" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;
        &lt;file&gt;${file.path}/${file.name.error.prefix}.${file.name.error.suffix}&lt;/file&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;${log.file.pattern}&lt;/pattern&gt;
            &lt;charset&gt;UTF-8&lt;/charset&gt;
        &lt;/encoder&gt;
        &lt;!-- 设置滚动策略，基于大小和时间的滚动策略 --&gt;
        &lt;rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy"&gt;
            &lt;fileNamePattern&gt;${file.path}/${file.name.error.prefix}.%d{yyyy-MM-dd}.%i.${file.name.error.suffix}&lt;/fileNamePattern&gt;
            &lt;maxFileSize&gt;2MB&lt;/maxFileSize&gt;
            &lt;maxHistory&gt;3&lt;/maxHistory&gt;
            &lt;totalSizeCap&gt;10MB&lt;/totalSizeCap&gt;
        &lt;/rollingPolicy&gt;
        &lt;!-- 只保留 ERROR 级别的日志 --&gt;
        &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt;
            &lt;level&gt;ERROR&lt;/level&gt;
            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;
            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;
        &lt;/filter&gt;
    &lt;/appender&gt;
 
    &lt;!-- 控制 org.springframework 包下的所有类的 INFO 级别及以上的日志打印 --&gt;
    &lt;logger name="org.springframework" level="INFO" /&gt;
    &lt;!-- 控制 _org.springframework 包下的所有类的 INFO 级别及以上的日志打印 --&gt;
    &lt;logger name="_org.springframework" level="INFO" /&gt;
 
    &lt;!-- 将各 appender 挂载到 root 节点下  --&gt;
    &lt;root level="DEBUG"&gt;
        &lt;appender-ref ref="CONSOLE_APPENDER" /&gt;
        &lt;appender-ref ref="ROLLING_FILE_APPENDER" /&gt;
        &lt;appender-ref ref="ROLLING_FILE_ERROR_APPENDER" /&gt;
    &lt;/root&gt;
 
&lt;/configuration&gt;</pre></article>
        </section>
    </div>
</div>
<!--显示搜索结果-->
<div id="searchResultDiv">
    <div id="searchResult"></div>
    <hr>
    <a class="siteSearch" href="javascript:void(0);" id="showSearchAll">显示全部</a>
</div>
<!--模态窗口div,显示google结果-->
<div class="modal" id="modalResult" onclick="if(event.target==modalResult)modalResult.style.display='none'">
    <div class="modalContent">
        <div class="modalBody">
            <div class="searchTitle">
                <span class="close" id='close' onclick="modalResult.style.display='none'">&times;</span>
                <span class="resultAnalysis" id="resultAnalysis"></span><br>
                <hr class="hrsplit">
            </div>
            <div id="searchResultAll"></div>
            <div class="page">
                <button class="pageButton" id="pagePrev">上一页</button>
                <div class="pageIndex"></div>
                <button class="pageButton" id="pageNext">下一页</button>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    loadNav();
</script>
<script src="/js/articleTree.js"></script>
<script type="module" src="/js/indexSearch.js"></script>
</body>

</html>