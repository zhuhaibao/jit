{"pageTitle":"Spring Redis - SpringBoot","title":"Spring Redis","content":"<p style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; color: rgb(0, 0, 0); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\"><a href=\"https://redis.io/\" style=\"box-sizing: border-box; color: rgb(134, 180, 82); text-decoration: none; font-weight: 700;\"><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">Redis</code></a><span>&nbsp;</span>是一款开源的，使用 C 开发的高性能内存 Key/Value 数据库，支持 String、Set、Hash、List、Stream 等等数据类型。它被广泛用于缓存、消息队列、实时分析、计数器和排行榜等场景。基本上是当代应用中必不可少的软件！</p><p style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; color: rgb(0, 0, 0); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\">Spring Boot 对 Redis 提供了开箱即用的组件：<a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-redis\" style=\"box-sizing: border-box; color: rgb(134, 180, 82); text-decoration: none; font-weight: 700;\"><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">spring-boot-starter-data-redis</code></a>。通过这个 starter，我们只需要几行简单的配置就可以快速地在 Spring Boot 中整合、使用 Redis。</p><p style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; color: rgb(0, 0, 0); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\"><br></p><p style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; color: rgb(0, 0, 0); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\">除了<span>&nbsp;</span><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">spring-boot-starter-data-redis</code><span>&nbsp;</span>外，还添加了<span>&nbsp;</span><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">commons-pool2</code><span>&nbsp;</span>依赖，是因为我们需要使用到连接池。</p><h3 id=\"配置属性\" style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; font-weight: 700; line-height: 1.3; color: rgb(0, 0, 0); font-size: 1.25rem; font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\">配置属性</h3><p style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; color: rgb(0, 0, 0); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\">只需要在<span>&nbsp;</span><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">application.yaml | properties</code><span>&nbsp;</span>中配置如下常用的基本属性即可</p><p style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; color: rgb(0, 0, 0); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\"><strong style=\"box-sizing: border-box; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; font-optical-sizing: inherit; font-size-adjust: inherit; font-kerning: inherit; font-feature-settings: inherit; font-variation-settings: inherit; font-weight: 700;\">注意，如果你使用的是 spring boot 2.x，上述配置的命名空间应该是<span>&nbsp;</span><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">spring.redis</code><span>&nbsp;</span>而不是<span>&nbsp;</span><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">spring.data.redis</code></strong>。</p><p style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; color: rgb(0, 0, 0); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\">更多完整的配置属性，请参阅<span>&nbsp;</span><a href=\"https://springdoc.cn/spring-boot/application-properties.html#application-properties.data.spring.data.redis.client-name\" style=\"box-sizing: border-box; color: rgb(134, 180, 82); text-decoration: none; font-weight: 700;\">官方文档</a>。</p><h3 id=\"使用-jedis-客户端\" style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; font-weight: 700; line-height: 1.3; color: rgb(0, 0, 0); font-size: 1.25rem; font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\">使用 Jedis 客户端</h3><p style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; color: rgb(0, 0, 0); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\">Spring Data Redis 默认使用<span>&nbsp;</span><a href=\"https://lettuce.io/\" style=\"box-sizing: border-box; color: rgb(134, 180, 82); text-decoration: none; font-weight: 700;\"><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">Lettuce</code></a><span>&nbsp;</span>作为 Redis 客户端。官方还对<span>&nbsp;</span><a href=\"https://github.com/redis/jedis\" style=\"box-sizing: border-box; color: rgb(134, 180, 82); text-decoration: none; font-weight: 700;\">Jedis</a><span>&nbsp;</span>提供了支持，你可以根据你的喜好进行选择。</p><p style=\"box-sizing: border-box; margin: 0px 0px 1.25rem; color: rgb(0, 0, 0); font-family: &quot;Open Sans&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\">要替换为 Jedis，首先需要从<span>&nbsp;</span><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">spring-boot-starter-data-redis</code><span>&nbsp;</span>排除<span>&nbsp;</span><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">lettuce</code><span>&nbsp;</span>，并且添加<span>&nbsp;</span><code style=\"box-sizing: border-box; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; font-size: inherit; background-color: rgb(245, 245, 245); border: 1px solid rgb(235, 235, 235); padding: 0px 5px; color: rgb(204, 51, 51);\">jedis</code><span>&nbsp;</span>依赖</p>"}