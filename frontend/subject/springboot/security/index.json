{"pageTitle":"Spring Security - SpringBoot","title":"Spring Security","keyword":"spring,springframework,springboot","content":"<p><br></p>\r\n<pre class=\"line-numbers\"><code class=\"language-java\" data-prismjs-copy=\"Copy\">package com.example.demo.config;搜索\r\n\r\n                    @Bean\r\n                    public AuthenticationManager authenticationManager() {\r\n                        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n                        authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n                        authenticationProvider.setUserDetailsService(userDetailsService());\r\n                        ProviderManager providerManager = new ProviderManager(authenticationProvider);\r\n                        providerManager.setEraseCredentialsAfterAuthentication(false);//认证后不擦除凭证\r\n                        return providerManager;\r\n                    }\r\n\r\n                    @Bean\r\n                    public UserDetailsService userDetailsService() {\r\n                        UserDetails userDetails = User.builder()\r\n                                .passwordEncoder(x -&amp;gt; passwordEncoder().encode(\"123\"))\r\n                                .username(\"user\")\r\n                                .roles(\"USER\")\r\n                                .build();\r\n\r\n                        return new InMemoryUserDetailsManager(userDetails);\r\n                    }</code></pre>\r\n<div class=\"code-toolbar\">\r\n    <div class=\"toolbar\">\r\n        <div class=\"toolbar-item\"><button class=\"copy-to-clipboard-button\" type=\"button\" data-copy-state=\"copy\"><span>Copy</span></button></div>\r\n    </div>\r\n</div>"}