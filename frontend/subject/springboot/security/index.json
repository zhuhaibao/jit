{"pageTitle":"Spring Security - SpringBoot","title":"Spring Security","keyword":"spring,springframework,springboot","content":"<p><br></p><pre class=\"line-numbers\"><code class=\"language-java\" data-prismjs-copy=\"copy\">package com.example.demo.config;\r\n\r\n                    @Bean\r\n                    public AuthenticationManager authenticationManager() {\r\n                        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n                        authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n                        authenticationProvider.setUserDetailsService(userDetailsService());\r\n                        ProviderManager providerManager = new ProviderManager(authenticationProvider);\r\n                        providerManager.setEraseCredentialsAfterAuthentication(false);//认证后不擦除凭证\r\n                        return providerManager;\r\n                    }\r\n\r\n                    @Bean\r\n                    public UserDetailsService userDetailsService() {\r\n                        UserDetails userDetails = User.builder()\r\n                                .passwordEncoder(x -&gt; passwordEncoder().encode(\"123\"))\r\n                                .username(\"user\")\r\n                                .roles(\"USER\")\r\n                                .build();\r\n\r\n                        return new InMemoryUserDetailsManager(userDetails);\r\n                    }</code></pre>"}