{"pageTitle":"Spring 网关 - SpringBoot","title":"Spring 网关","keyword":"spring,springframework,springboot","content":"<p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><img src=\"https://img2023.cnblogs.com/other/1218593/202309/1218593-20230911094312154-1570492808.png\" alt=\"\" loading=\"lazy\" class=\"medium-zoom-image\" style=\"margin: 0px; padding: 0px; border: 0px; max-width: 820px; height: auto; cursor: zoom-in; transition: transform 300ms cubic-bezier(0.2, 0, 0.2, 1) !important;\"></p><h2 id=\"1网关介绍\" style=\"margin: 10px 0px; padding: 0px; font-size: 21px; font-weight: bold; line-height: 1.5; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-indent:=\"\" 0px;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><strong style=\"margin: 0px; padding: 0px;\">1.网关介绍</strong></h2><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">如果没有网关，难道不行吗？功能上是可以的，我们直接调用提供的接口就可以了。那为什么还需要网关？</p><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">因为网关的作用不仅仅是转发请求而已。我们可以试想一下，如果需要做一个请求认证功能，我们可以接入到 API 服务中。但是倘若后续又有服务需要接入，我们又需要重复接入。这样我们不仅代码要重复编写，而且后期也不利于维护。</p><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">由于接入网关后，网关将转发请求。所以在这一层做请求认证，天然合适。这样这需要编写一次代码，在这一层过滤完毕，再转发给下面的 API。</p><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">所以 API 网关的通常作用是完成一些通用的功能，如请求认证，请求记录，请求限流，黑白名单判断等。</p><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">API网关是一个服务器，是系统的唯一入口。</p><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">API网关方式的核心要点是，所有的客户端和消费端都通过统一的网关接入微服务，在网关层处理所有的非业务功能。通常，网关提供REST/HTTP的访问API。</p><h2 id=\"2spring-cloud-gateway介绍\" style=\"margin: 10px 0px; padding: 0px; font-size: 21px; font-weight: bold; line-height: 1.5; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-indent:=\"\" 0px;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><strong style=\"margin: 0px; padding: 0px;\">2.Spring Cloud Gateway介绍</strong></h2><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">Spring Cloud Gateway是Spring Cloud的新一代API网关，基于WebFlux框架实现，它旨在为微服务架构提供一种简单而有效的统一的API路由管理方式。</p><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">Spring Cloud Gateway作为Spring Cloud生态系统中的网关，目标是替代Netflix ZUUL，具有更好的性能、更强的扩展性、以及更丰富的功能特性，其不仅提供统一的路由方式，并且基于Filter链的方式提供了网关基本的功能，例如:安全，监控/埋点，限流等。</p><h2 id=\"3spring-cloud-gateway的特性\" style=\"margin: 10px 0px; padding: 0px; font-size: 21px; font-weight: bold; line-height: 1.5; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-indent:=\"\" 0px;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><strong style=\"margin: 0px; padding: 0px;\">3.Spring Cloud Gateway的特性</strong></h2><ul style=\"margin: 0px 0px 0px 30px; padding: 0px; word-break: break-all; list-style-type: disc; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-indent:=\"\" 0px;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><li style=\"margin: 0px 0px 1em; padding: 0px; list-style: inherit;\">基于Spring Framework 5， Project Reactor和Spring Boot 2.0</li><li style=\"margin: 0px 0px 1em; padding: 0px; list-style: inherit;\">动态路由：能够匹配任何请求属性</li><li style=\"margin: 0px 0px 1em; padding: 0px; list-style: inherit;\">可以对路由指定 Predicate 和 Filter</li><li style=\"margin: 0px 0px 1em; padding: 0px; list-style: inherit;\">集成Hystrix断路器</li><li style=\"margin: 0px 0px 1em; padding: 0px; list-style: inherit;\">集成Spring Cloud DiscoveryClient 服务发现功能</li><li style=\"margin: 0px 0px 1em; padding: 0px; list-style: inherit;\">易于编写的Predicate和Filter</li><li style=\"margin: 0px 0px 1em; padding: 0px; list-style: inherit;\">请求限流</li><li style=\"margin: 0px 0px 1em; padding: 0px; list-style: inherit;\">支持路径重写</li></ul><h2 id=\"4spring-cloud-gateway的三大核心概念\" style=\"margin: 10px 0px; padding: 0px; font-size: 21px; font-weight: bold; line-height: 1.5; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-indent:=\"\" 0px;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><strong style=\"margin: 0px; padding: 0px;\">4.Spring Cloud Gateway的三大核心概念</strong></h2><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><strong style=\"margin: 0px; padding: 0px;\">路由(Route)：</strong><span>&nbsp;</span>路由是网关最基础的部分，路由信息由一个ID，一个目标URI，一组断言和过滤器组成。路由断言Predicate用于匹配请求，过滤器Filter用于修改请求和响应。如果断言为true，则说明请求URI和配置匹配，则执行路由。</p><div class=\"code-toolbar\"><pre class=\"highlighter-hljs language-yaml\" highlighted=\"true\" style=\"margin: 10px auto; padding: 0px; transition-duration: 0.2s; transition-property: background, font-size, border-color, border-radius, border-width, padding, margin, color; overflow: auto; color: rgb(0, 0, 0); font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;\" tabindex=\"0\"><code class=\"highlighter-hljs hljs language-yaml\" style=\"margin: 0px; padding: 1em; font-family: \" courier=\"\" new\",=\"\" sans-serif;=\"\" transition-duration:=\"\" 0.2s;=\"\" transition-property:=\"\" background,=\"\" font-size,=\"\" border-color,=\"\" border-radius,=\"\" border-width,=\"\" padding,=\"\" margin,=\"\" color;=\"\" background:=\"\" rgb(245,=\"\" 245,=\"\" 245);=\"\" color:=\"\" rgb(68,=\"\" 68,=\"\" 68);=\"\" display:=\"\" block;=\"\" font-size:=\"\" 12px;=\"\" border:=\"\" 1px=\"\" solid=\"\" rgb(204,=\"\" 204,=\"\" 204);=\"\" border-radius:=\"\" 3px;=\"\" overflow-x:=\"\" auto;=\"\" line-height:=\"\" 1.5;\"=\"\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">cloud</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">gateway</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token comment\"># 定义多个路由</span>\r\n      <span class=\"token key atrule\">routes</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token comment\"># 一个路由route的id</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> path_route\r\n        <span class=\"token comment\"># 该路由转发的目标URI</span>\r\n        <span class=\"token key atrule\">uri</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//example.org\r\n        <span class=\"token comment\"># 路由条件集合</span>\r\n        <span class=\"token key atrule\">predicates</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token punctuation\">-</span> Path=/test/<span class=\"token important\">**</span>\r\n        <span class=\"token comment\"># 过滤器集合</span>\r\n        <span class=\"token key atrule\">filters</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token punctuation\">-</span> AddRequestHeader=X<span class=\"token punctuation\">-</span>Request<span class=\"token punctuation\">-</span>Id<span class=\"token punctuation\">,</span> <span class=\"token number\">1024</span>\r\n        <span class=\"token punctuation\">-</span> AddRequestParameter=color<span class=\"token punctuation\">,</span> red</code></pre><div class=\"toolbar\"><div class=\"toolbar-item\"><button class=\"copy-to-clipboard-button\" type=\"button\" data-copy-state=\"copy\"><span>Copy</span></button></div></div></div><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><strong style=\"margin: 0px; padding: 0px;\">断言(Predicate)：</strong><span>&nbsp;</span>参考Java8中的断言Predicate，用于实现请求匹配逻辑，例如匹配路径、请求头、请求参数等。请求与断言匹配则执行该路由。</p><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><strong style=\"margin: 0px; padding: 0px;\">过滤器(Filter)：</strong><span>&nbsp;</span>指的是Spring框架中<code style=\"margin: 0px 3px; padding: 0px 5px; font-family: ui-monospace, SFMono-Regular, \" sf=\"\" mono\",=\"\" menlo,=\"\" consolas,=\"\" \"liberation=\"\" monospace,=\"\" sans-serif;=\"\" font-size:=\"\" 12px;=\"\" line-height:=\"\" 1.8;=\"\" display:=\"\" inline-block;=\"\" overflow-x:=\"\" auto;=\"\" vertical-align:=\"\" middle;=\"\" border-radius:=\"\" 3px;=\"\" background-color:=\"\" rgb(251,=\"\" 229,=\"\" 225);=\"\" color:=\"\" rgb(192,=\"\" 52,=\"\" 29);=\"\" border:=\"\" none=\"\" !important;\"=\"\">GatewayFilter</code>的实例，使用过滤器，可以在请求被路由前后对请求进行修改。</p><h2 id=\"5gateway工作流程\" style=\"margin: 10px 0px; padding: 0px; font-size: 21px; font-weight: bold; line-height: 1.5; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-indent:=\"\" 0px;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><strong style=\"margin: 0px; padding: 0px;\">5.Gateway工作流程</strong></h2><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">客户端向<code style=\"margin: 0px 3px; padding: 0px 5px; font-family: ui-monospace, SFMono-Regular, \" sf=\"\" mono\",=\"\" menlo,=\"\" consolas,=\"\" \"liberation=\"\" monospace,=\"\" sans-serif;=\"\" font-size:=\"\" 12px;=\"\" line-height:=\"\" 1.8;=\"\" display:=\"\" inline-block;=\"\" overflow-x:=\"\" auto;=\"\" vertical-align:=\"\" middle;=\"\" border-radius:=\"\" 3px;=\"\" background-color:=\"\" rgb(251,=\"\" 229,=\"\" 225);=\"\" color:=\"\" rgb(192,=\"\" 52,=\"\" 29);=\"\" border:=\"\" none=\"\" !important;\"=\"\">Spring Cloud Gateway</code>发出请求，然后在<code style=\"margin: 0px 3px; padding: 0px 5px; font-family: ui-monospace, SFMono-Regular, \" sf=\"\" mono\",=\"\" menlo,=\"\" consolas,=\"\" \"liberation=\"\" monospace,=\"\" sans-serif;=\"\" font-size:=\"\" 12px;=\"\" line-height:=\"\" 1.8;=\"\" display:=\"\" inline-block;=\"\" overflow-x:=\"\" auto;=\"\" vertical-align:=\"\" middle;=\"\" border-radius:=\"\" 3px;=\"\" background-color:=\"\" rgb(251,=\"\" 229,=\"\" 225);=\"\" color:=\"\" rgb(192,=\"\" 52,=\"\" 29);=\"\" border:=\"\" none=\"\" !important;\"=\"\">Gateway Handler Mapping</code>中找到与请求相匹配的路由，将其发送到<code style=\"margin: 0px 3px; padding: 0px 5px; font-family: ui-monospace, SFMono-Regular, \" sf=\"\" mono\",=\"\" menlo,=\"\" consolas,=\"\" \"liberation=\"\" monospace,=\"\" sans-serif;=\"\" font-size:=\"\" 12px;=\"\" line-height:=\"\" 1.8;=\"\" display:=\"\" inline-block;=\"\" overflow-x:=\"\" auto;=\"\" vertical-align:=\"\" middle;=\"\" border-radius:=\"\" 3px;=\"\" background-color:=\"\" rgb(251,=\"\" 229,=\"\" 225);=\"\" color:=\"\" rgb(192,=\"\" 52,=\"\" 29);=\"\" border:=\"\" none=\"\" !important;\"=\"\">Gateway Web Handler</code>。Handler再通过指定的过滤器链来对请求进行过滤处理，最后发送到我们实际的服务执行业务逻辑，然后返回。</p><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\"><img src=\"https://img2023.cnblogs.com/other/1218593/202309/1218593-20230911094312444-1753032918.png\" alt=\"\" loading=\"lazy\" class=\"medium-zoom-image\" style=\"margin: 0px; padding: 0px; border: 0px; max-width: 820px; height: auto; cursor: zoom-in; transition: transform 300ms cubic-bezier(0.2, 0, 0.2, 1) !important;\"></p><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">过滤器链被虚线分隔，是因为过滤器既可以在转发请求前拦截请求，也可以在请求处理之后对响应进行拦截处理。</p><p style=\"margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: \" pingfang=\"\" sc\",=\"\" \"microsoft=\"\" yahei\",=\"\" \"helvetica=\"\" neue\",=\"\" helvetica,=\"\" arial,=\"\" sans-serif;=\"\" font-size:=\"\" 14px;=\"\" font-style:=\"\" normal;=\"\" font-variant-ligatures:=\"\" font-variant-caps:=\"\" font-weight:=\"\" 400;=\"\" letter-spacing:=\"\" orphans:=\"\" 2;=\"\" text-align:=\"\" left;=\"\" text-transform:=\"\" none;=\"\" widows:=\"\" word-spacing:=\"\" 0px;=\"\" -webkit-text-stroke-width:=\"\" white-space:=\"\" background-color:=\"\" rgb(255,=\"\" 255,=\"\" 255);=\"\" text-decoration-thickness:=\"\" initial;=\"\" text-decoration-style:=\"\" text-decoration-color:=\"\" initial;\"=\"\">推荐一个开源免费的 Spring Boot 实战项目：</p>"}